---
layout: paper
pdf_url: https://arxiv.org/pdf/2512.22280
permalink: 2026-01-02/2512.22280/
title: AI Memory Is Not Replayable&#58; New Kernel Guarantees Bit-Identical Results
  Across Hardware
---



A new paper introduces Valori, a deterministic memory substrate designed to eliminate a critical yet often-overlooked flaw in modern Artificial Intelligence systems: the non-reproducibility of memory state. By replacing conventional floating-point arithmetic with fixed-point integer math, Valori guarantees that AI memory states and retrieval results are bit-identical regardless of the underlying hardware architecture, providing a necessary foundation for auditable and safe AI deployment.

Modern AI systems, particularly those using Retrieval-Augmented Generation (RAG) and agentic workflows, rely on vector databases where high-dimensional embeddings—the "semantic addresses" of data—are stored and searched. These systems inherently assume that if an AI stores a fact today, it will be retrievable tomorrow, precisely, on any machine.

### The Root of the Problem: Floating-Point Non-Determinism

In reality, this assumption is false. Standard IEEE 754 floating-point arithmetic, while excellent for speed and approximation, is notoriously non-deterministic. Variations in hardware and compiler optimizations—such as the use of Fused Multiply-Add (FMA) instructions or different SIMD (Single Instruction, Multiple Data) parallelization orders—cause subtle but irreconcilable differences in the final bit representation of calculations across machines.

The paper provides concrete evidence of this divergence. Researchers ran the exact same embedding model (`sentence-transformers/all-MiniLM-L6-v2`) on two common development machines: a Windows PC (x86) and a MacBook Pro (ARM). They found that the raw hexadecimal representation of the generated vectors differed in *every single dimension* examined.

While the semantic similarity between these divergent vectors remains high, the bit-level discrepancy breaks fundamental state replicability. This means that a financial auditing agent, for example, running the same code and inputs, might retrieve a subtly different document ranking depending on whether it runs on an x86 server farm or an ARM-based edge device, compromising the audit trail.

### Valori’s Solution: The Deterministic State Machine

Valori addresses this issue by enforcing a strict determinism boundary at the memory layer. The core innovation is two-fold:

1.  **Fixed-Point Arithmetic:** Valori replaces floating-point operations with Q16.16 fixed-point arithmetic. Since integer math operations are consistent across all architectures (x86, ARM, RISC-V), the mathematical outcomes are guaranteed to be bit-identical everywhere.
2.  **Pure State Machine:** The memory kernel is treated as a pure state machine. Any non-deterministic external inputs (like the floating-point embeddings generated by a neural network) are immediately normalized into fixed-point format at the kernel boundary. Index updates, distance metrics, and state snapshots are then handled deterministically.

To prove cross-platform consistency, the researchers performed a "Snapshot Transfer" test: 10,000 vectors were inserted into a Valori kernel on an x86 machine, and the resulting state snapshot was hashed. That snapshot was then transferred to an ARM machine and loaded. The resulting internal state hash was identical, confirming perfect memory replication.

Crucially, this strict determinism is achieved without sacrificing practical performance. Valori demonstrated a 99.8% Recall@10 overlap compared to a standard floating-point index, showing that the stability afforded by fixed-point quantification does not degrade semantic retrieval quality in real-world scenarios.

This level of reproducibility is essential for high-stakes applications like robotics (where a drone trained in simulation must load the exact memory kernel onto its physical hardware) and decentralized AI systems that require consensus among nodes about shared "truth." Valori positions deterministic memory as an essential new primitive for the move toward trustworthy AI infrastructure.